---
title: Search
description: Understanding search in Airweave
edit-this-page-url: https://github.com/airweave-ai/airweave/blob/main/fern/docs/pages/search.mdx
slug: search
---

Airweave lets you search across all your connected data sources in one place. When you search a collection, Airweave finds the most relevant results using a combination of AI and keyword matching. You can customize how search works to fit your needs.

<Note>
Want to try it out right now? Head to our [interactive API documentation](https://docs.airweave.ai/api-reference/collections/search-collection-advanced-collections-readable-id-search-post) where you can test search queries directly in your browser!
</Note>

## How search works

Airweave processes your search through several steps that you can configure. Each step has sensible defaults, so you can start simple and add customization as needed.

### Query Expansion

Sometimes your exact words don't match what's in your documents, even though they mean the same thing. Query expansion helps by automatically creating variations of your search query to catch more relevant results.

**Options**: `expansion_strategy`
- `auto` (default): Uses AI to expand queries when available
- `llm`: Always uses AI to create up to 4 query variations
- `no_expansion`: Search for exactly what you typed

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "customer churn analysis",
    "expansion_strategy": "llm"
  }'
```

```python title="Python"
from airweave import AirweaveSDK

client = AirweaveSDK(api_key="YOUR_API_KEY")

results = await client.collections.search_collection_advanced(
    readable_id="your-collection-id",
    search_request={
        "query": "customer churn analysis",
        "expansion_strategy": "llm"
    }
)
```

```javascript title="Node.js"
import { AirweaveSDKClient } from "@airweave/sdk";

const client = new AirweaveSDKClient({ apiKey: "YOUR_API_KEY" });

const response = await client.collections.searchCollectionAdvanced({
  readableId: "your-collection-id",
  searchRequest: {
    query: "payment failures",
    expansionStrategy: "llm",
  },
});
```
</CodeBlocks>



### Search Method

Choose how Airweave searches your data. You can use AI to understand meaning, traditional keyword matching, or both.

**Options**: `search_method`
- `hybrid` (default): Best of both worlds - finds results by meaning AND exact keywords
- `neural`: AI-powered search that understands what you mean, not just what you type
- `keyword`: Traditional search that looks for exact word matches

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "authentication flow security vulnerabilities",
    "search_method": "hybrid"
  }'
```

```python title="Python"
results = await client.collections.search_collection_advanced(
    readable_id="your-collection-id",
    search_request={
        "query": "authentication flow security vulnerabilities",
        "search_method": "hybrid"
    }
)
```

```javascript title="Node.js"
const response = await client.collections.searchCollectionAdvanced({
  readableId: "your-collection-id",
  searchRequest: {
    query: "authentication flow security vulnerabilities",
    searchMethod: "hybrid",
  },
});
```
</CodeBlocks>

## Quick reference

Here are the default settings Airweave uses (you can override any of these):

| Feature | Default | What it does |
|---------|---------|--------------|
| Query Expansion | `auto` | Automatically creates query variations when AI is available |
| Search Method | `hybrid` | Uses both AI and keyword matching |
| Query Interpretation | Off | You control filters manually |
| AI Reranking | On | Improves result quality (adds ~10 seconds) |
| Recency Boost | `0.3` | Slightly prefers newer content |
| Score Filter | None | Returns all matches |
| Response Format | `raw` | Returns actual documents, not AI summaries |


### Filtering Results

Narrow down your search by filtering on metadata like source, date, or status. This happens before the search, so it's fast even on large datasets.

**Parameter**: `filter`

#### Example 1: Filter by source

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "deployment issues",
    "filter": {
      "must": [{
        "key": "source_name",
        "match": {"value": "GitHub"}
      }]
    }
  }'
```

```python title="Python"
results = await client.collections.search_collection_advanced(
    readable_id="your-collection-id",
    search_request={
        "query": "deployment issues",
        "filter": {
            "must": [{
                "key": "source_name",
                "match": {"value": "GitHub"}  # Case-sensitive!
            }]
        }
    }
)
```

```javascript title="Node.js"
const response = await client.collections.searchCollectionAdvanced({
  readableId: "your-collection-id",
  searchRequest: {
    query: "deployment issues",
    filter: {
      must: [{
        key: "source_name",
        match: { value: "GitHub" }  // Case-sensitive!
      }]
    }
  },
});
```
</CodeBlocks>

#### Example 2: Multiple filters

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "customer feedback",
    "filter": {
      "must": [
        {
          "key": "source_name",
          "match": {"any": ["Zendesk", "Intercom", "Slack"]}
        },
        {
          "key": "created_at",
          "range": {
            "gte": "2024-01-01T00:00:00Z"
          }
        }
      ]
    }
  }'
```

```python title="Python"
from datetime import datetime, timezone, timedelta

results = await client.collections.search_collection_advanced(
    readable_id="your-collection-id",
    search_request={
        "query": "customer feedback",
        "filter": {
            "must": [
                {
                    "key": "source_name",
                    "match": {"any": ["Zendesk", "Intercom", "Slack"]}
                },
                {
                    "key": "created_at",
                    "range": {
                        "gte": (datetime.now(timezone.utc) - timedelta(days=7)).isoformat()
                    }
                }
            ]
        }
    }
)
```

```javascript title="Node.js"
const oneWeekAgo = new Date();
oneWeekAgo.setDate(oneWeekAgo.getDate() - 7);

const response = await client.collections.searchCollectionAdvanced({
  readableId: "your-collection-id",
  searchRequest: {
    query: "customer feedback",
    filter: {
      must: [
        {
          key: "source_name",
          match: { any: ["Zendesk", "Intercom", "Slack"] }
        },
        {
          key: "created_at",
          range: {
            gte: oneWeekAgo.toISOString()
          }
        }
      ]
    }
  },
});
```
</CodeBlocks>

#### Example 3: Exclude results

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "bug reports",
    "filter": {
      "must_not": [{
        "key": "status",
        "match": {"any": ["resolved", "closed", "done"]}
      }]
    }
  }'
```

```python title="Python"
results = await client.collections.search_collection_advanced(
    readable_id="your-collection-id",
    search_request={
        "query": "bug reports",
        "filter": {
            "must_not": [{
                "key": "status",
                "match": {"any": ["resolved", "closed", "done"]}
            }]
        }
    }
)
```

```javascript title="Node.js"
const response = await client.collections.searchCollectionAdvanced({
  readableId: "your-collection-id",
  searchRequest: {
    query: "bug reports",
    filter: {
      mustNot: [{
        key: "status",
        match: { any: ["resolved", "closed", "done"] }
      }]
    }
  },
});
```
</CodeBlocks>

### Query Interpretation (Beta)

Let Airweave automatically understand what you're looking for. When you write natural language like "open tickets from last week", it figures out the filters for you.

**Options**: `enable_query_interpretation`
- `false` (default): You control all filters manually
- `true`: AI extracts filters from your natural language query

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "open asana tickets from last week",
    "enable_query_interpretation": true
  }'
```

```python title="Python"
results = await client.collections.search_collection_advanced(
    readable_id="your-collection-id",
    search_request={
        "query": "open asana tickets from last week",
        "enable_query_interpretation": True
    }
)
# AI understands: Asana source, open status, last 7 days

results = await client.collections.search_collection_advanced(
    readable_id="your-collection-id",
    search_request={
        "query": "critical bugs from GitHub this month",
        "enable_query_interpretation": True
    }
)
```

```javascript title="Node.js"
const response = await client.collections.searchCollectionAdvanced({
  readableId: "your-collection-id",
  searchRequest: {
    query: "open asana tickets from last week",
    enableQueryInterpretation: true
  },
});

const response2 = await client.collections.searchCollectionAdvanced({
  readableId: "your-collection-id",
  searchRequest: {
    query: "critical bugs from GitHub this month",
    enableQueryInterpretation: true
  },
});
```
</CodeBlocks>

<Warning>
This feature is in beta. Sometimes it might filter too strictly and miss relevant results. Check your result counts to make sure you're getting what you expect.
</Warning>

### Recency Bias

Boost newer content in your search results. Perfect for emails, messages, or any data where freshness matters.

The scoring formula adjusts results based on age:

![Recency Bias Formula](https://latex.codecogs.com/svg.image?%5Clarge%20S_%7B%5Ctext%7Bfinal%7D%7D%20%3D%20S_%7B%5Ctext%7Bsimilarity%7D%7D%20%5Ctimes%20%5Cleft(1%20-%20%5Cbeta%20%2B%20%5Cbeta%20%5Ccdot%20d(t)%5Cright))

Where:
- **S<sub>final</sub>** = final relevance score
- **S<sub>similarity</sub>** = semantic similarity score
- **Î²** = recency bias parameter (0 to 1)
- **d(t)** = time decay factor (0 = oldest, 1 = newest)


**Options**: `recency_bias` (0.0 to 1.0)
- `0.3` (default): Slightly prefer newer content
- `0.0`: Don't care about dates, just find the best matches
- `1.0`: Heavily prioritize the newest content

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "project updates",
    "recency_bias": 0.7
  }'
```

```python title="Python"
results = await client.collections.search_collection_advanced(
    readable_id="your-collection-id",
    search_request={
        "query": "project updates",
        "recency_bias": 0.7
    }
)
```

```javascript title="Node.js"
const response = await client.collections.searchCollectionAdvanced({
  readableId: "your-collection-id",
  searchRequest: {
    query: "project updates",
    recencyBias: 0.7,
  },
});
```
</CodeBlocks>

### Pagination

Control how many results you get and navigate through large result sets.

**Parameters**:
- `limit`: How many results to return (1-1000, default: 20)
- `offset`: How many results to skip (for pagination, default: 0)

<CodeBlocks>
```bash title="cURL"
# Simple search with pagination
curl -X GET 'https://api.airweave.ai/collections/your-collection-id/search?query=data%20retention%20policies&limit=50&offset=50' \
  -H 'x-api-key: YOUR_API_KEY'
```

```python title="Python"
response = await client.collections.search_collection(
    readable_id="your-collection-id",
    query="data retention policies",
    limit=50,
    offset=50,  # Skip first 50
)
```

```javascript title="Node.js"
const response = await client.collections.searchCollection({
  readableId: "your-collection-id",
  query: "data retention policies",
  limit: 50,
  offset: 50,
});
```
</CodeBlocks>

### Filter by Relevance Score

Set a minimum relevance score to filter out weak matches. Useful when you only want high-quality results.

**Options**: `score_threshold` (0.0 to 1.0)
- `None` (default): Return all matches
- `0.7-0.8`: Return only high-confidence matches

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "security vulnerability CVE-2024",
    "score_threshold": 0.8
  }'
```

```python title="Python"
results = await client.collections.search_collection_advanced(
    readable_id="your-collection-id",
    search_request={
        "query": "security vulnerability CVE-2024",
        "score_threshold": 0.8
    }
)
```

```javascript title="Node.js"
const response = await client.collections.searchCollectionAdvanced({
  readableId: "your-collection-id",
  searchRequest: {
    query: "security vulnerability CVE-2024",
    scoreThreshold: 0.8,
  },
});
```
</CodeBlocks>

### AI Reranking

Use AI to double-check and reorder your results for better relevance. This makes results more accurate but takes longer.

**Options**: `enable_reranking`
- `true` (default): AI reviews and reorders results for best relevance
- `false`: Skip reranking for faster results

<Warning>
Reranking adds about 10 seconds to your search. Turn it off if you need fast results.
</Warning>

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "user authentication methods",
    "enable_reranking": false
  }'
```

```python title="Python"
results = await client.collections.search_collection_advanced(
    readable_id="your-collection-id",
    search_request={
        "query": "user authentication methods",
        "enable_reranking": False
    }
)
```

```javascript title="Node.js"
const response = await client.collections.searchCollectionAdvanced({
  readableId: "your-collection-id",
  searchRequest: {
    query: "user authentication methods",
    enableReranking: false,
  },
});
```
</CodeBlocks>

### Generate AI Answers

Instead of just getting search results, you can ask Airweave to generate a complete answer using AI.

**Options**: `response_type`
- `raw` (default): Get the actual documents/data
- `completion`: Get an AI-generated answer based on the results

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "What are our customer refund policies?",
    "response_type": "completion"
  }'
```

```python title="Python"
results = await client.collections.search_collection_advanced(
    readable_id="your-collection-id",
    search_request={
        "query": "What are our customer refund policies?",
        "response_type": "completion"
    }
)
# Access: results.completion
```

```javascript title="Node.js"
const response = await client.collections.searchCollectionAdvanced({
  readableId: "your-collection-id",
  searchRequest: {
    query: "What are our customer refund policies?",
    responseType: "completion",
  },
});
// Access: response.completion
```
</CodeBlocks>

## Which endpoint to use
Choose the **GET** endpoint for simple searches, and the **POST** endpoint when you need advanced config.


<CardGroup cols={2}>
  <Card title="Simple Search" icon="magnifying-glass" href="/api-reference/collections/search-collection-collections-readable-id-search-get">
    **GET** `/collections/{id}/search`

    Best for quick searches with default settings. Just pass your query and go.
  </Card>

  <Card title="Advanced Search" icon="sliders" href="/api-reference/collections/search-collection-advanced-collections-readable-id-search-post">
    **POST** `/collections/{id}/search`

    Use this when you need to customize any of the options above.
  </Card>
</CardGroup>


## Complete example

Here's everything together in one search:

<CodeBlocks>
```bash title="cURL"
curl -X POST 'https://api.airweave.ai/collections/your-collection-id/search' \
  -H 'x-api-key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '{
    "query": "customer feedback about pricing",
    "expansion_strategy": "llm",
    "search_method": "hybrid",
    "filter": {
      "must": [{
        "key": "source_name",
        "match": {"any": ["Zendesk", "Slack"]}
      }]
    },
    "recency_bias": 0.5,
    "score_threshold": 0.7,
    "enable_reranking": true,
    "response_type": "raw",
    "limit": 50,
    "offset": 0
  }'
```

```python title="Python"
from airweave import AirweaveSDK
from datetime import datetime, timezone, timedelta

client = AirweaveSDK(api_key="YOUR_API_KEY")

results = await client.collections.search_collection_advanced(
    readable_id="your-collection-id",
    search_request={
        "query": "customer feedback about pricing",
        "expansion_strategy": "llm",
        "search_method": "hybrid",
        "filter": {
            "must": [{
                "key": "source_name",
                "match": {"any": ["Zendesk", "Slack"]}
            }]
        },
        "recency_bias": 0.5,
        "score_threshold": 0.7,
        "enable_reranking": True,
        "response_type": "raw",
        "limit": 50,
        "offset": 0
    }
)
```

```javascript title="Node.js"
import { AirweaveSDKClient } from "@airweave/sdk";

const client = new AirweaveSDKClient({ apiKey: "YOUR_API_KEY" });

const response = await client.collections.searchCollectionAdvanced({
  readableId: "your-collection-id",
  searchRequest: {
    query: "customer feedback about pricing",
    expansionStrategy: "llm",
    searchMethod: "hybrid",
    filter: {
      must: [{
        key: "source_name",
        match: { any: ["Zendesk", "Slack"] }
      }]
    },
    recencyBias: 0.5,
    scoreThreshold: 0.7,
    enableReranking: true,
    responseType: "raw",
    limit: 50,
    offset: 0
  },
});
```
</CodeBlocks>

<Card title="Ready to search?" icon="rocket">
  Try these examples live in our [interactive API documentation](https://docs.airweave.ai/api-reference/collections/search-collection-advanced-collections-readable-id-search-post). You can execute real searches and see responses instantly!
</Card>
